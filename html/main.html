<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">

    <title>CIP</title>
</head>
<body id="body-pd">
    <div class="l-navbar" id="navbar">
        <nav class="nav">
            <div>
                <div class="nav__brand">
                    <ion-icon name="menu-outline" class="nav__toggle" id="nav-toggle"></ion-icon>
                    <!-- <ion-icon name="image-sharp"></ion-icon> -->
                    <a href="#" class="nav__logo">CIP</a>
                </div>
                <div class="nav__list">
                    <a href="#" class="nav__link active">
                        <ion-icon name="home-outline" class="nav__icon"></ion-icon>
                        <span class="nav_name">Home</span>
                    </a>

                    <div href="#" class="nav__link collapse">
                        <ion-icon name="person-sharp"></ion-icon>
                        <span class="nav_name">My Page</span>

                        <!-- <ion-icon name="chevron-down-outline" class="collapse__link"></ion-icon>

                        <ul class="collapse__menu">
                            <a href="#" class="collapse__sublink">Login</a>
                            <a href="#" class="collapse__sublink">Logout</a>
                            <a href="#" class="collapse__sublink">Sign_in</a>
                        </ul> -->
                    </div>

                    <!-- <div href="#" class="nav__link collapse">
                        <ion-icon name="people-outline" class="nav__icon"></ion-icon>
                        <span class="nav_name">Team</span>

                        <ion-icon name="chevron-down-outline" class="collapse__link"></ion-icon>

                        <ul class="collapse__menu">
                            <a href="#" class="collapse__sublink">Data</a>
                            <a href="#" class="collapse__sublink">Group</a>
                            <a href="#" class="collapse__sublink">Members</a>
                        </ul>
                    </div> -->

                    <a href="#" class="nav__link">
                        <ion-icon name="settings-outline" class="nav__icon"></ion-icon>
                        <span class="nav_name">Settings</span>
                    </a>
                </div>
                <a href="#" class="nav__link">
                    <ion-icon name="log-out-outline" class="nav__icon"></ion-icon>
                    <span class="nav_name">Log out</span>
                </a>
            </div>
        </nav>
    </div>

    <div id="body-map">
        <div id="map" style="width:100%;height:100vh;"></div>

        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=3911680ceb2853064dd77af72246f542"></script>
        <script>
        var mapContainer = document.getElementById('map'), // 지도의 중심좌표
            mapOption = { 
                center: new kakao.maps.LatLng(37.451076, 127.128628), // 지도의 중심좌표
                level: 3 // 지도의 확대 레벨
            }; 

        var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

        // 지도에 마커를 표시합니다 
        var marker = new kakao.maps.Marker({
            map: map, 
            position: new kakao.maps.LatLng(37.451076, 127.128628)
        });

        // 커스텀 오버레이에 표시할 컨텐츠 입니다
        // 커스텀 오버레이는 아래와 같이 사용자가 자유롭게 컨텐츠를 구성하고 이벤트를 제어할 수 있기 때문에
        // 별도의 이벤트 메소드를 제공하지 않습니다 
        var content = '<div class="wrap">' + 
                    '    <div class="info">' + 
                    '        <div class="title">' + 
                    '            가천대학교 ai공학관' + 
                    '            <div class="close" onclick="closeOverlay()" title="닫기"></div>' + 
                    '        </div>' + 
                    '        <div class="body">' + 
                    '            <div class="img">' +
                    '                <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyMTExMTVfMTI4%2FMDAxNjM2OTY4MDY3ODEz.-DQpq7-_2hh46jqUw7hRgcXvT8mnj3o7QoqRwMWAE_cg.pIJywVEDM1M-vcvyhjJHoHc5vE8Pw1ZO8iQMm35LUscg.PNG.moa4979%2F%25B0%25A1%25C3%25B5%25B4%25EB%25C7%25D0%25B1%25B3.png&type=sc960_832" width="73" height="70">' +
                    '           </div>' + 
                    '            <div class="desc">' + 
                    '                <div class="ellipsis">경기 성남시 수정구 복정동 495</div>' + 
                    '                <div class="jibun ellipsis"> 031-750-5114</div>' + 
                    '                <div><a href="https://www.gachon.ac.kr/kor/index.do" target="_blank" class="link">홈페이지</a></div>' + 
                    '            </div>' + 
                    '            <div>' +
                    '               <div class="bound" onclick="setBounds()" title="범위 재설정" url=""><ion-icon name="locate-sharp"></ion-icon></div>' +
                    '            </div>' +
                    '        </div>' + 
                    '    </div>' +    
                    '</div>';

        // 마커 위에 커스텀오버레이를 표시합니다
        // 마커를 중심으로 커스텀 오버레이를 표시하기위해 CSS를 이용해 위치를 설정했습니다
        var overlay = new kakao.maps.CustomOverlay({
            content: content,
            map: map,
            position: marker.getPosition()       
        });

        // 마커를 클릭했을 때 커스텀 오버레이를 표시합니다
        kakao.maps.event.addListener(marker, 'click', function() {
            overlay.setMap(map);
        });

        // 커스텀 오버레이를 닫기 위해 호출되는 함수입니다 
        function closeOverlay() {
            overlay.setMap(null);     
        }

        var points = [
            new kakao.maps.LatLng(37.451299, 127.127220),
            new kakao.maps.LatLng(37.450412, 127.129920),
            new kakao.maps.LatLng(37.455101, 127.134374),
            new kakao.maps.LatLng(37.451076, 127.128628)
        ];

        var bounds = new kakao.maps.LatLngBounds();

        var i, marker2;
        for (i = 0; i < points.length; i++) {
            // 배열의 좌표들이 잘 보이게 마커를 지도에 추가합니다
            marker2 =     new kakao.maps.Marker({ position : points[i] });
            marker2.setMap(map);
            
            // LatLngBounds 객체에 좌표를 추가합니다
            bounds.extend(points[i]);
        }

        function setBounds() {
            // LatLngBounds 객체에 추가된 좌표들을 기준으로 지도의 범위를 재설정합니다
            // 이때 지도의 중심좌표와 레벨이 변경될 수 있습니다
            map.setBounds(bounds);
        }
        </script>
            </div>

            <!-- IONICONS -->
            <script src="https://unpkg.com/ionicons@5.2.3/dist/ionicons.js"></script>
            <!-- JS -->
            <script src="js/main.js"></script>
</body>
</html>